<!DOCTYPE html>
<html lang="lt">
<head>
<meta charset="UTF-8">
<title>Insurance Calculator (Auto Currency)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --bg:#eef1f5;
  --card:#ffffff;
  --text:#0f172a;
  --header:#111827;
  --header-text:#f9fafb;
  --border:#cbd5e1;
}
body.dark{
  --bg:#020617;
  --card:#0f172a;
  --text:#e5e7eb;
  --header:#000000;
  --header-text:#f9fafb;
  --border:#475569;
}

*{box-sizing:border-box;}

body{
    margin:0;
    font-family:Arial, sans-serif;
    background:var(--bg);
    color:var(--text);
}

header{
    background:var(--header);
    color:var(--header-text);
    padding:10px 16px;
    display:flex;
    align-items:center;
    gap:12px;
}
header h1{
    font-size:18px;
    margin:0;
    font-weight:700;
}
header .spacer{ flex:1; }
header button{
    padding:6px 10px;
    border:none;
    border-radius:999px;
    background:#334155;
    color:#e5e7eb;
    cursor:pointer;
    font-size:13px;
}

.container{
    max-width:1200px;
    margin:0 auto;
    padding:16px;
    display:flex;
    gap:16px;
    flex-wrap:wrap;
}

.card{
    background:var(--card);
    border-radius:12px;
    border:1px solid var(--border);
    padding:16px;
    box-shadow:0 2px 8px rgba(0,0,0,0.18);
    flex:1 1 360px;
    min-width:320px;
}

h2{
    margin:0 0 10px 0;
    font-size:18px;
}
label{
    display:block;
    font-size:12px;
    font-weight:600;
    margin-top:8px;
}

input, select, textarea{
    width:100%;
    padding:8px;
    border-radius:8px;
    border:1px solid var(--border);
    background:var(--card);
    color:var(--text);
    font-size:13px;
}

textarea{
    min-height:130px;
    resize:vertical;
    font-family:Consolas, monospace;
}

button.action{
    width:100%;
    padding:9px;
    margin-top:10px;
    border:none;
    border-radius:8px;
    background:#2563eb;
    color:white;
    font-weight:700;
    cursor:pointer;
    font-size:14px;
}
button.action:hover{ background:#1d4ed8; }

.row{ display:flex; gap:10px; }
.row > div{ flex:1; }

.value{ font-weight:700; }
.green{ color:#22c55e; }
.red{ color:#ef4444; }

/* AiÅ¡kÅ«s checkbox'ai */
.checkbox-clean {
    display:flex;
    flex-direction:column;
    gap:6px;
    padding:10px;
    background:rgba(0,0,0,0.04);
    border-radius:8px;
    border:1px solid var(--border);
}
.checkbox-clean label {
    font-size:13px;
    font-weight:600;
    display:flex;
    align-items:center;
    gap:6px;
}
.checkbox-clean input[type="checkbox"] {
    width:16px;
    height:16px;
}

.pdf-controls{
    margin-top:12px;
    display:flex;
    gap:8px;
    align-items:center;
    font-size:12px;
}
.pdf-controls select{
    width:auto;
    min-width:140px;
}

/* Naujas mÄ—lynas "Naujas skaiÄiavimas" mygtukas */
.clear-row{
    margin-top:8px;
    text-align:right;
}
button.clear-btn{
    padding:6px 14px;
    border:none;
    border-radius:999px;
    background:#2563eb;
    color:#ffffff;
    font-size:12px;
    font-weight:600;
    cursor:pointer;
}
button.clear-btn:hover{
    background:#1d4ed8;
}

/* ===== About / README sekcija ===== */
.about-wrap{
    max-width:1200px;
    margin:12px auto 0;
    padding:0 16px;
    text-align:right;
}
.about-toggle{
    padding:6px 14px;
    border:none;
    border-radius:999px;
    background:#1e293b;
    color:#e5e7eb;
    font-size:12px;
    font-weight:700;
    cursor:pointer;
}
.about-toggle:hover{
    background:#0f172a;
}

.about{
    max-width:1200px;
    margin:10px auto 0;
    padding:16px;
    background:var(--card);
    border:1px solid var(--border);
    border-radius:12px;
    box-shadow:0 2px 8px rgba(0,0,0,0.12);
    display:none;
    font-size:13px;
    line-height:1.55;
}
.about h2{
    margin:0 0 8px 0;
    font-size:18px;
}
.about h3{
    margin:14px 0 6px 0;
    font-size:15px;
}
.about ul{
    margin:6px 0 0 0;
    padding-left:18px;
}
.about hr{
    border:none;
    border-top:1px solid var(--border);
    margin:14px 0;
}

@media print{
    body{ background:#ffffff; color:#000000; }
    header, .pdf-controls, .about-wrap, #aboutBox{ display:none !important; }
    .card{ box-shadow:none; border:1px solid #e5e7eb; }
    body.pdf-calcs #clientCard{ display:none !important; }
    body.pdf-client #calcCard{ display:none !important; }
    body.pdf-both #calcCard, body.pdf-both #clientCard{ display:block !important; }
}

.signature{
    text-align:center;
    color:#888;
    font-size:12px;
    margin-top:25px;
    margin-bottom:20px;
}
</style>
</head>

<body>

<header>
    <h1>Insurance Calculator (Auto Currency)</h1>
    <div class="spacer"></div>
    <button onclick="toggleAbout()" title="Apie projektÄ…">â„¹ï¸</button>
    <button onclick="toggleDark()">ğŸŒ™ / â˜€ï¸</button>
</header>

<!-- About / README mygtukas (papildomai, be header ikonÄ—lÄ—s) -->
<div class="about-wrap">
    <button class="about-toggle" onclick="toggleAbout()">â„¹ï¸ Apie projektÄ… / README</button>
</div>

<!-- About / README turinys -->
<div class="about" id="aboutBox">
    <h2>Insurance Calculator (Auto Currency)</h2>

    <p><strong>Autorius / Author:</strong> Donatas Vitenas<br>
    <strong>Statusas / Status:</strong> Veikiantis prototipas (ribotos apimties) / Working prototype (limited scope)<br>
    <strong>Veikimo principas / Execution model:</strong> vietinis (narÅ¡yklÄ—je) / client-side (browser-based), su realiu valiutÅ³ kursÅ³ Å¡altiniu / using real currency rates</p>

    <hr>

    <h3>ğŸ‡±ğŸ‡¹ LIETUVIÅ² KALBA</h3>

    <h3>Apie projektÄ…</h3>
    <p>
        Å is projektas yra <strong>asmeninis, pilnai veikiantis draudimo kainÅ³ skaiÄiavimo sprendimas</strong>,
        skirtas situacijoms, kai invoice pateikiamas uÅ¾sienio valiuta, o galutinÄ— kaina turi bÅ«ti apskaiÄiuota ir pateikta <strong>EUR</strong>.
    </p>
    <p>
        Tai <strong>ne teorinis pavyzdys ir ne â€mockâ€œ aplikacija</strong>.
        SkaiÄiavimai atliekami <strong>realiu laiku</strong>, naudojant <strong>oficialius valiutÅ³ kursus</strong>,
        todÄ—l sprendimas gali bÅ«ti naudojamas <strong>praktiniame darbe</strong>.
    </p>
    <p>
        Projektas sukurtas kaip <strong>nedidelÄ—s apimties, savarankiÅ¡kai veikiantis Ä¯rankis</strong>,
        tinkamas realiam naudojimui be papildomos infrastruktÅ«ros.
    </p>

    <h3>Kam Å¡is sprendimas reikalingas</h3>
    <p>Praktikoje daÅ¾nai pasitaiko situacijos, kai:</p>
    <ul>
        <li>invoice pateikiamas USD, GBP ar kita valiuta,</li>
        <li>draudimo pasiÅ«lymas turi bÅ«ti pateiktas EUR,</li>
        <li>valiutÅ³ kursai nuolat kinta,</li>
        <li>rankinis perskaiÄiavimas didina klaidÅ³ ir neatitikimÅ³ rizikÄ….</li>
    </ul>
    <p>Å is Ä¯rankis leidÅ¾ia:</p>
    <ul>
        <li><strong>automatiÅ¡kai konvertuoti invoice sumÄ… Ä¯ EUR</strong>,</li>
        <li>naudoti <strong>vienÄ… patikimÄ… ir oficialÅ³ valiutÅ³ kursÅ³ Å¡altinÄ¯</strong>,</li>
        <li>sumaÅ¾inti rankinÄ¯ darbÄ… ir Å¾mogiÅ¡kÅ³ klaidÅ³ tikimybÄ™,</li>
        <li>turÄ—ti aiÅ¡kÅ³, pakartojamÄ… ir skaidrÅ³ skaiÄiavimo procesÄ….</li>
    </ul>

    <h3>Kaip veikia valiutÅ³ konvertavimas</h3>
    <p>
        ValiutÅ³ kursai gaunami iÅ¡ <strong>Frankfurter API</strong>, kuris naudoja
        <strong>Europos Centrinio Banko (ECB)</strong> oficialius duomenis.
    </p>
    <ul>
        <li>naudojami <strong>realÅ«s, bankinÄ—je praktikoje taikomi kursai</strong>,</li>
        <li>duomenys nÄ—ra imituojami ar generuojami dirbtinai,</li>
        <li>nereikia API rakto ar autentifikacijos,</li>
        <li>sprendimas veikia <strong>tiesiog narÅ¡yklÄ—je (client-side)</strong>.</li>
    </ul>

    <h3>KÄ… daro Å¡i skaiÄiuoklÄ—</h3>
    <ul>
        <li>AutomatiÅ¡kai konvertuoja invoice sumÄ… Ä¯ EUR,</li>
        <li>ApskaiÄiuoja brokerio savikainÄ…, kainÄ… klientui ir pelnÄ…,</li>
        <li>LeidÅ¾ia pasirinkti skirtingus procentinius scenarijus,</li>
        <li>Palygina skirtingus skaiÄiavimo variantus,</li>
        <li>Sugeneruoja <strong>paruoÅ¡tÄ… tekstÄ… klientui</strong> (LT / EN / RU),</li>
        <li>Visi skaiÄiavimai atliekami <strong>realiu laiku narÅ¡yklÄ—je</strong>.</li>
    </ul>

    <h3>KodÄ—l projektas turi â€ribotos apimtiesâ€œ statusÄ…</h3>
    <p>Nors sprendimas yra <strong>funkcionalus ir praktiÅ¡kai naudojamas</strong>, jis turi sÄ…moningai nustatytas ribas:</p>
    <ul>
        <li>nÄ—ra serverio ar duomenÅ³ bazÄ—s,</li>
        <li>nÄ—ra naudotojÅ³ valdymo,</li>
        <li>nÄ—ra SLA ar ilgalaikio palaikymo,</li>
        <li>nÄ—ra integracijos su vidinÄ—mis Ä¯moniÅ³ sistemomis.</li>
    </ul>
    <p>
        Tai <strong>nÄ—ra funkcionalumo trÅ«kumas</strong>, o sÄ…moningas sprendimas iÅ¡laikyti paprastumÄ… ir patikimumÄ….
    </p>

    <h3>Pastaba</h3>
    <p>
        Å is projektas yra <strong>nekomercinis</strong>, taÄiau <strong>funkcionaliai veikiantis</strong>.
        Jis naudoja vieÅ¡ai prieinamus, oficialius valiutÅ³ kursÅ³ duomenis ir gali bÅ«ti naudojamas praktinÄ—se situacijose be papildomos infrastruktÅ«ros.
    </p>

    <hr>

    <h3>ğŸ‡¬ğŸ‡§ ENGLISH VERSION</h3>

    <h3>About the project</h3>
    <p>
        This project is a <strong>personal, fully functional insurance price calculation solution</strong>,
        designed for cases where an invoice is issued in a foreign currency and the final price must be calculated and presented in <strong>EUR</strong>.
    </p>
    <p>
        This is <strong>not a theoretical example or a mock application</strong>.
        All calculations are performed <strong>in real time</strong>, using <strong>official currency exchange rates</strong>, making the tool suitable for <strong>practical use</strong>.
    </p>
    <p>
        The project is implemented as a <strong>small, self-contained solution</strong> that works without additional infrastructure.
    </p>

    <h3>Why this solution is needed</h3>
    <p>In real business scenarios, it is common that:</p>
    <ul>
        <li>invoices are issued in USD, GBP, or other currencies,</li>
        <li>insurance offers must be presented in EUR,</li>
        <li>exchange rates constantly change,</li>
        <li>manual recalculation increases the risk of errors.</li>
    </ul>
    <p>This tool allows users to:</p>
    <ul>
        <li><strong>automatically convert invoice amounts to EUR</strong>,</li>
        <li>rely on <strong>a single, official currency rate source</strong>,</li>
        <li>reduce manual work and human error,</li>
        <li>maintain a clear and repeatable calculation process.</li>
    </ul>

    <h3>How currency conversion works</h3>
    <p>
        Currency rates are retrieved from the <strong>Frankfurter API</strong>, which is based on
        <strong>European Central Bank (ECB)</strong> official exchange rates.
    </p>
    <ul>
        <li><strong>real, bank-grade exchange rates</strong> are used,</li>
        <li>data is not simulated or artificially generated,</li>
        <li>no API key or authentication is required,</li>
        <li>the solution runs <strong>entirely in the browser (client-side)</strong>.</li>
    </ul>

    <h3>What the calculator does</h3>
    <ul>
        <li>Automatically converts invoice amounts to EUR,</li>
        <li>Calculates broker cost, client price, and profit,</li>
        <li>Allows selection of different percentage scenarios,</li>
        <li>Compares calculation variants,</li>
        <li>Generates <strong>ready-to-use client communication text</strong> (LT / EN / RU),</li>
        <li>All calculations are performed <strong>in real time in the browser</strong>.</li>
    </ul>

    <h3>Why the project has a â€œlimited scopeâ€ status</h3>
    <p>Although the solution is <strong>fully functional and usable</strong>, it has intentionally defined limitations:</p>
    <ul>
        <li>no backend server or database,</li>
        <li>no user management,</li>
        <li>no SLA or long-term support commitments,</li>
        <li>no integration with internal enterprise systems.</li>
    </ul>
    <p>
        These limitations are <strong>deliberate design decisions</strong>, not technical shortcomings.
    </p>

    <h3>Disclaimer</h3>
    <p>
        This project is <strong>non-commercial</strong>, yet <strong>fully functional</strong>.
        It uses publicly available, official currency exchange data and can be used in practical scenarios without additional infrastructure.
    </p>

    <p style="margin-top:10px;"><strong>Â© Donatas Vitenas</strong></p>
</div>

<div class="container">

    <!-- SKAIÄŒIUOKLÄ– -->
    <div class="card" id="calcCard">
        <h2>SkaiÄiuoklÄ—</h2>

        <label>Invoice valiuta</label>
        <select id="invoiceCurrency">
            <option>USD</option>
            <option>EUR</option>
            <option>PLN</option>
            <option>GBP</option>
            <option>CHF</option>
            <option>TRY</option>
            <option>KZT</option>
            <option>CNY</option>
            <option>CAD</option>
            <option>AUD</option>
        </select>

        <label>Invoice suma (ta valiuta)</label>
        <input type="number" id="invoiceAmount" placeholder="pvz. 625000">

        <label>Invoice suma EUR (automatiÅ¡kai per ECB)</label>
        <input type="number" id="invoiceEUR" readonly style="background:#e2e8f0;">

        <!-- Naujas mygtukas -->
        <div class="clear-row">
            <button type="button" class="clear-btn" onclick="resetAll()">Naujas skaiÄiavimas</button>
        </div>

        <div class="row">
            <div>
                <label>Brokerio %</label>
                <select id="brokerPercent">
                    <option value="0.07">0,07 %</option>
                    <option value="0.08">0,08 %</option>
                    <option value="0.10">0,10 %</option>
                    <option value="0.12">0,12 %</option>
                    <option value="custom">Kitas</option>
                </select>
            </div>
            <div>
                <label>Brokerio % (jei Kitas)</label>
                <input type="text" id="brokerCustom" placeholder="pvz. 0,09" disabled>
            </div>
        </div>

        <div class="row">
            <div>
                <label>Tavo % klientui</label>
                <select id="myPercent">
                    <option value="0.23">0,23 %</option>
                    <option value="0.24" selected>0,24 %</option>
                    <option value="0.25">0,25 %</option>
                    <option value="custom">Kitas</option>
                </select>
            </div>
            <div>
                <label>Tavo % (jei Kitas)</label>
                <input type="text" id="myCustom" placeholder="pvz. 0,27" disabled>
            </div>
        </div>

        <button class="action" onclick="calc()">SkaiÄiuoti</button>

        <h3>Rezultatai</h3>
        <p>Invoice EUR: <span id="resInvoiceEUR" class="value">â€“</span></p>
        <p>Savikaina (brokeris): <span id="resCost" class="value">â€“</span></p>
        <p>Kaina klientui: <span id="resClient" class="value">â€“</span></p>
        <p>Pelnas: <span id="resProfit" class="value">â€“</span></p>

        <h4>AON vs Legator palyginimui</h4>
        <p>AON 0,07 %: <span id="resAON" class="value">â€“</span></p>
        <p>Legator 0,10 %: <span id="resLeg" class="value">â€“</span></p>
    </div>

    <!-- KLIENTO TEKSTAS -->
    <div class="card" id="clientCard">
        <h2>Tekstas klientui</h2>

        <label>Kalba / Language</label>
        <select id="lang">
            <option value="LT">LietuviÅ³</option>
            <option value="EN">English</option>
            <option value="RU">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
        </select>

        <label style="margin-bottom:6px; display:block; font-weight:700;">KÄ… rodyti klientui?</label>

        <div class="checkbox-clean">
            <label><input type="checkbox" id="showEUR" checked> Rodyti kainÄ… EUR</label>
            <label><input type="checkbox" id="showExtra" checked> Rodyti papildomÄ… valiutÄ…</label>
            <label><input type="checkbox" id="showDate" checked> Rodyti datÄ…</label>
            <label><input type="checkbox" id="showInvoice" checked> Rodyti invoice eilutÄ™</label>
        </div>

        <label>Pasirink papildomÄ… valiutÄ…</label>
        <select id="extraCurrency">
            <option value="USD">USD</option>
            <option value="GBP">GBP</option>
            <option value="PLN">PLN</option>
            <option value="CHF">CHF</option>
            <option value="CNY">CNY</option>
            <option value="CAD">CAD</option>
            <option value="AUD">AUD</option>
            <option value="NOK">NOK</option>
            <option value="SEK">SEK</option>
            <option value="JPY">JPY</option>
        </select>

        <button class="action" onclick="generateClientText()">Generuoti tekstÄ… klientui</button>

        <label>Tekstas klientui</label>
        <textarea id="clientText"></textarea>

        <button class="action" onclick="copyClientText()">Kopijuoti tekstÄ…</button>

        <div class="pdf-controls">
            <span>PDF turinys:</span>
            <select id="pdfMode">
                <option value="both">SkaiÄiuoklÄ— + tekstas</option>
                <option value="calc">Tik skaiÄiuoklÄ—</option>
                <option value="client">Tik tekstas klientui</option>
            </select>
            <button onclick="generatePDF()" style="width:auto;padding:6px 10px;">PDF (Print)</button>
        </div>
    </div>
</div>

<script>
let lastClientEUR = null;

/* Dark mode */
function toggleDark(){
    document.body.classList.toggle("dark");
    localStorage.setItem("dark", document.body.classList.contains("dark"));
}
if(localStorage.getItem("dark")==="true") document.body.classList.add("dark");

/* About / README toggle */
function toggleAbout(){
    const box=document.getElementById("aboutBox");
    box.style.display = (box.style.display==="block") ? "none" : "block";
}

/* Auto conversion ECB â€“ invoice valiuta -> EUR */
async function autoConvert(){
    const cur=document.getElementById("invoiceCurrency").value;
    const amt=parseFloat(document.getElementById("invoiceAmount").value);
    const out=document.getElementById("invoiceEUR");

    if(!amt){ out.value=""; return; }
    if(cur==="EUR"){ out.value=amt.toFixed(2); return; }

    try{
        const r=await fetch("https://api.frankfurter.app/latest?from="+cur+"&to=EUR");
        const d=await r.json();
        if(d && d.rates && d.rates.EUR){
            out.value=(amt*d.rates.EUR).toFixed(4);
        }else{
            out.value="";
        }
    }catch(e){
        out.value="";
    }
}
document.getElementById("invoiceCurrency").addEventListener("change", autoConvert);
document.getElementById("invoiceAmount").addEventListener("input", autoConvert);

/* ProcentÅ³ aktyvavimas */
document.getElementById("brokerPercent").addEventListener("change", function () {
    const c=document.getElementById("brokerCustom");
    c.disabled = (this.value !== "custom");
    if(c.disabled) c.value="";
});
document.getElementById("myPercent").addEventListener("change", function () {
    const c=document.getElementById("myCustom");
    c.disabled = (this.value !== "custom");
    if(c.disabled) c.value="";
});

/* SkaiÄiavimai â€“ palaiko ir kablelÄ¯, ir taÅ¡kÄ… */
function calc(){
    const eur=parseFloat(document.getElementById("invoiceEUR").value);
    if(!eur){ alert("Blogi duomenys"); return; }

    let b=document.getElementById("brokerPercent").value;
    if(b==="custom"){
        b = document.getElementById("brokerCustom").value.replace(",", ".");
        b = parseFloat(b)/100;
    } else {
        b = parseFloat(b)/100;
    }

    let m=document.getElementById("myPercent").value;
    if(m==="custom"){
        m = document.getElementById("myCustom").value.replace(",", ".");
        m = parseFloat(m)/100;
    } else {
        m = parseFloat(m)/100;
    }

    if(isNaN(b) || isNaN(m)){
        alert("Ä®vesk procentÄ… teisingu formatu: pvz. 0.30 arba 0,30");
        return;
    }

    const cost=eur*b;
    const client=eur*m;
    lastClientEUR=client;

    document.getElementById("resInvoiceEUR").textContent=eur.toFixed(2)+" EUR";
    document.getElementById("resCost").textContent=cost.toFixed(2)+" EUR";
    document.getElementById("resClient").textContent=client.toFixed(2)+" EUR";

    const p=client-cost;
    const pe=document.getElementById("resProfit");
    pe.textContent=p.toFixed(2)+" EUR";
    pe.className="value "+(p>=0?"green":"red");

    document.getElementById("resAON").textContent=(eur*0.0007).toFixed(2)+" EUR";
    document.getElementById("resLeg").textContent=(eur*0.001).toFixed(2)+" EUR";

    /* Auto-clear: po naujo skaiÄiavimo iÅ¡valom senÄ… kliento tekstÄ… */
    document.getElementById("clientText").value="";
}

/* PagalbinÄ— funkcija valiutÅ³ kursui iÅ¡ Frankfurter */
async function getRate(from, to){
    const res = await fetch("https://api.frankfurter.app/latest?from="+from+"&to="+to);
    const data = await res.json();
    return data && data.rates ? data.rates[to] : null;
}

/* Profesionalus LT/EN/RU tekstas su auto valiuta */
async function generateClientText() {
    if (!lastClientEUR) {
        alert("Pirmiausia apskaiÄiuok kainÄ…");
        return;
    }

    const eur = lastClientEUR;
    const showEUR = document.getElementById("showEUR").checked;
    const showExtra = document.getElementById("showExtra").checked;
    const showDate = document.getElementById("showDate").checked;
    const showInvoice = document.getElementById("showInvoice").checked;

    const amt = document.getElementById("invoiceAmount").value;
    const invCur = document.getElementById("invoiceCurrency").value;
    const lang = document.getElementById("lang").value;
    const extraCur = document.getElementById("extraCurrency").value;

    const today = new Date().toISOString().split("T")[0];

    let extraAmount = null;
    if(showExtra){
        const rate = await getRate("EUR", extraCur);
        if(!rate){
            alert("Nepavyko gauti valiutos kurso");
            return;
        }
        extraAmount = eur * rate;
    }

    let out = "";

    /* ===== LT ===== */
    if (lang === "LT") {
        out += "SiunÄiame preliminariÄ… draudimo Ä¯mokos kainÄ… pagal pateiktÄ… invoice vertÄ™.\n\n";

        if (showEUR) out += `â€¢ Draudimo kaina: ${eur.toFixed(2)} EUR\n`;
        if (showExtra && extraAmount!==null) {
            out += `â€¢ Suma ${extraCur} pagal Å¡iandienos kursÄ…: ${extraAmount.toFixed(2)} ${extraCur}\n`;
        }
        if (showInvoice && amt) out += `â€¢ Invoice vertÄ—: ${amt} ${invCur}\n`;
        if (showDate) out += `â€¢ Data: ${today}\n`;

        out += "\nPastaba:\nTai orientacinÄ— Ä¯moka, paskaiÄiuota pagal invoice vertÄ™ ir Å¡iandienos valiutos kursÄ….\nGalutinÄ— kaina gali skirtis priklausomai nuo poliso iÅ¡raÅ¡ymo dienos.\n";
    }

    /* ===== EN ===== */
    if (lang === "EN") {
        out += "Please find below the preliminary insurance premium calculated based on the provided invoice value.\n\n";

        if (showEUR) out += `â€¢ Insurance price: ${eur.toFixed(2)} EUR\n`;
        if (showExtra && extraAmount!==null) {
            out += `â€¢ Amount in ${extraCur} at todayâ€™s rate: ${extraAmount.toFixed(2)} ${extraCur}\n`;
        }
        if (showInvoice && amt) out += `â€¢ Invoice value: ${amt} ${invCur}\n`;
        if (showDate) out += `â€¢ Date: ${today}\n`;

        out += "\nNote:\nThis is an indicative premium based on the invoice value and current exchange rate.\nThe final amount may vary depending on the policy issuance date.\n";
    }

    /* ===== RU ===== */
    if (lang === "RU") {
        out += "ĞĞ¸Ğ¶Ğµ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ° Ğ¿Ñ€ĞµĞ´Ğ²Ğ°Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ ÑÑ‚Ñ€Ğ°Ñ…Ğ¾Ğ²Ğ¾Ğ¹ Ğ¿Ñ€ĞµĞ¼Ğ¸Ğ¸, Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ğ½Ğ½Ğ°Ñ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ ÑÑƒĞ¼Ğ¼Ñ‹ Ğ¸Ğ½Ğ²Ğ¾Ğ¹ÑĞ°.\n\n";

        if (showEUR) out += `â€¢ Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ ÑÑ‚Ñ€Ğ°Ñ…Ğ¾Ğ²ĞºĞ¸: ${eur.toFixed(2)} EUR\n`;
        if (showExtra && extraAmount!==null) {
            out += `â€¢ Ğ¡ÑƒĞ¼Ğ¼Ğ° Ğ² ${extraCur} Ğ¿Ğ¾ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¼Ñƒ ĞºÑƒÑ€ÑÑƒ: ${extraAmount.toFixed(2)} ${extraCur}\n`;
        }
        if (showInvoice && amt) out += `â€¢ Ğ¡ÑƒĞ¼Ğ¼Ğ° Ğ¸Ğ½Ğ²Ğ¾Ğ¹ÑĞ°: ${amt} ${invCur}\n`;
        if (showDate) out += `â€¢ Ğ”Ğ°Ñ‚Ğ°: ${today}\n`;

        out += "\nĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ:\nĞ­Ñ‚Ğ¾ Ğ¾Ñ€Ğ¸ĞµĞ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ¿Ñ€ĞµĞ¼Ğ¸Ñ, Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ğ½Ğ½Ğ°Ñ Ğ¿Ğ¾ ÑÑƒĞ¼Ğ¼Ğµ Ğ¸Ğ½Ğ²Ğ¾Ğ¹ÑĞ° Ğ¸ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¼Ñƒ ĞºÑƒÑ€ÑÑƒ.\nĞ¤Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ°Ñ‚ÑŒÑÑ Ğ² Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¾Ñ‚ Ğ´Ğ°Ñ‚Ñ‹ Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ»Ğ¸ÑĞ°.\n";
    }

    document.getElementById("clientText").value = out;
}

/* Copy */
function copyClientText(){
    const t=document.getElementById("clientText");
    t.select();
    document.execCommand("copy");
}

/* PDF */
function generatePDF(){
    const m=document.getElementById("pdfMode").value;
    document.body.classList.remove("pdf-calcs","pdf-client","pdf-both");
    document.body.classList.add("pdf-"+m);
    window.print();
}

/* Naujas skaiÄiavimas â€“ iÅ¡valom viskÄ… */
function resetAll(){
    document.getElementById("invoiceCurrency").value="USD";
    document.getElementById("invoiceAmount").value="";
    document.getElementById("invoiceEUR").value="";

    document.getElementById("brokerPercent").value="0.07";
    document.getElementById("brokerCustom").value="";
    document.getElementById("brokerCustom").disabled=true;

    document.getElementById("myPercent").value="0.24";
    document.getElementById("myCustom").value="";
    document.getElementById("myCustom").disabled=true;

    document.getElementById("resInvoiceEUR").textContent="â€“";
    document.getElementById("resCost").textContent="â€“";
    document.getElementById("resClient").textContent="â€“";
    const pe=document.getElementById("resProfit");
    pe.textContent="â€“";
    pe.className="value";
    document.getElementById("resAON").textContent="â€“";
    document.getElementById("resLeg").textContent="â€“";

    document.getElementById("lang").value="LT";
    document.getElementById("showEUR").checked=true;
    document.getElementById("showExtra").checked=true;
    document.getElementById("showDate").checked=true;
    document.getElementById("showInvoice").checked=true;
    document.getElementById("extraCurrency").value="USD";
    document.getElementById("clientText").value="";
    document.getElementById("pdfMode").value="both";

    lastClientEUR=null;
}
</script>

<div class="signature">Â© Donatas</div>

</body>
</html>
